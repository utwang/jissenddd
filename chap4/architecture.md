- レイヤ化アーキテクチャ
    - 元々
        - UIレイヤ　→　アプリレイヤ(コントローラ的イメージ？)　→　ドメイン　→　インフラ（フレームワーク、データ永続化）
    - 依存関係逆転の原則
        - インフラ（フレームワーク、データ永続化）→ UIレイヤ　→　アプリレイヤ(コントローラ的イメージ？)　→　ドメイン
        - 変更を柔軟にできるアーキテクチャに近づける
        - https://en.wikipedia.org/wiki/Dependency_inversion_principle

- ヘキサゴナルアーキテクチャ
    - ヘキサゴナルというキーワードに特に意味なし（ポートとアダプタ）
    - ポートとアダプタ
        - 多くのアプリケーションはポートを2つだけもつ(UIとDBのポート
        - 1つのポートに複数のアダプタを持ち得る
        - ★アダプタは外界とのやりとり(HTTPなのかMQなのか)の技術的な変換してドメインにつなぐ役割を受け持つ
        - ★永続化はDI等で切り離せるようにしておく(テストしやすくなる)
- サービス指向
    - SOAとマイクロサービス
        - 大きな違いはSOAの原則の７，８はマイクロサービスには入ってこない
    - DDDと組み合わせる場合
        - SOAの境界づけられたコンテキスト1つにヘキサゴナルアーキテクチャを適用
        - SOAの思想にそって境界づけられたコンテキストを不自然に分断しないようにすること（戦略的DDDの視点を忘れない）

- RESTfulHTTPサーバのポイント
    - リソースの概念
    - ステートフルな通信のための自己言及型メッセージ
    - 実行できるインタフェースは決まっている(GET, PUT, PATCH, POST, DELETE)
    - べき等なメソッドもある(GET, PUT, DELETE)
    - HATEOAS  -> RESTと別のリソースのリンクを持つ
        - jsonにもリンクをもつ

- RESTfulHTTPクライアントのポイント
    - 理想的なRESTでは最初のリクエスト以降の制御はハイパーメディアに委ねる
    - 別のアプリケーションや別のホストのリソースも扱える
    - 対話するWebアプリケーションのインターフェイスや内部実装をしっている必要はない。
        - ハイパーメディアのプロトコルに則って対話するため

- RESTとDDD
    - ドメインモデルをRESTfulHTTPで直接公開するのは望ましくない
    - 1) システムのインタフェースレイヤを境界づけられたコンテキストとして分離
        - インタフェースのモデルからコアドメインにアクセスする方法
        - ポイントとしては、コアドメインの変更をインタフェースにまで波及させない作りにすること
        - 外側から見えるリソースと実際の内側のモデルは分けておく
            - モデルのResource表現にこだわりすぎないで専用のAPIを用意する
            - AmazonのAPIはよくできているRESTFULではなく、商品サーチに特化したinterfaceになっている
            - FacebookのAPIはprevious, nextのリンク先まで含んでいる。ユースケースからAPIの仕様が作られている例。

    - 2) 標準メディア・タイプを利用する
    - RESTは疎結合でスケーラブルなアーキテクチャである
